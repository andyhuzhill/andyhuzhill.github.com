---
comments: true
date: 2012-07-16 15:36:06
layout: post
title: MSP430 PIO口
categories:
- Linux
tags:
- MCU
- MSP430
---

{% include JB/setup %}
### 端口概述


MSP430各种端口有大量的控制寄存器。MSP430X1/4XX系列的P1和P2都有7个寄存器，P3、P4、P5、P6都有4个寄存器。
 



  * 每个I/O位都可以独立编程。

  * 允许任意组合输入、输出和中断。

  * P1和P2所有8位可以做外部中断处理。

  * 可以使用所有指令对寄存器操作。

  * 可以按字节输入/输出，也可以按位进行操作。




###  端口P1和P2




####   端口P1和P2的寄存器


 



  1. PxDIR 输入/输出方向寄存器
   相互独立的8位分别定义了8个引脚的输入输出方向。8位在PUC后都被复位。使用输入输出功能时，应该先定义端口的方向，输出输入才能满足要求。作为输入时，只能读。作为输出时，既可以读也可以写。

  2. PxIN  输入寄存器
   输入寄存器是只读寄存器。用户不能对其写入，只能通过读取寄存器知道I/O端口信号。

  3. PxOUT 输出寄存器
   为I/O端口的输出缓存寄存器。

  4. PxIFG 中断标志寄存器
   标志引是否有待处理的中断信息。

  5. PxIES 中断触发沿选择寄存器
   如果允许某个引脚中断，还需定义该引脚中断触发方式。
   0： 上升沿 触发中断；1：下降沿  触发中断

  6. PxIE 中断使能寄存器
   控制Px口某一位是否允许中断。

  7. PxSEL 功能选择寄存器
   使用引脚的第二功能。
  0：选择引脚为I/O端口； 1：选择引脚为外围模块功能。

  8. PxREN 上拉/下拉电阻使能
 0: 上拉/下拉电阻禁止； 1：上拉/下拉电阻使能。





### P3~P8端口


P3~P8端口没有中断功能。所以以上只要与中断有关的寄存器在P3~P8端口都没有。其他的定义和用法都和P1、P2一样。


### 端口COM和S


 这些端口实现与数码管的直接接口。COM段为数码管公共段，S端口为数码管段码端。

